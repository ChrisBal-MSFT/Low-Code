"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8687],{4137:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>u});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=o.createContext({}),c=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=c(e.components);return o.createElement(p.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},k=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=c(n),k=a,u=m["".concat(p,".").concat(k)]||m[k]||d[k]||r;return n?o.createElement(u,i(i({ref:t},s),{},{components:n})):o.createElement(u,i({ref:t},s))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=k;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[m]="string"==typeof e?e:a,i[1]=l;for(var c=2;c<r;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}k.displayName="MDXCreateElement"},8666:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var o=n(7462),a=(n(7294),n(4137));const r={sidebar_position:1,title:"1. Build Custom Connector"},i=void 0,l={unversionedId:"prodev-4/step-1",id:"prodev-4/step-1",title:"1. Build Custom Connector",description:"Working as part of the PrioritZ fusion team you will be configuring a custom connector for an existing API.  The team would like to add badging to the PrioritZ application to give credit to users when they have completed ranking an item.  The team identified an existing API, but it doesn't have a Power Platform connector.",source:"@site/docs/prodev-4/step-1.md",sourceDirName:"prodev-4",slug:"/prodev-4/step-1",permalink:"/Low-Code/docs/prodev-4/step-1",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"1. Build Custom Connector"},sidebar:"tutorialSidebar",previous:{title:"4. Add Component to Solution",permalink:"/Low-Code/docs/prodev-3/step-4"},next:{title:"2. Add Custom Code",permalink:"/Low-Code/docs/prodev-4/step-2"}},p={},c=[{value:"1.1 Download open API definition and create solution",id:"11-download-open-api-definition-and-create-solution",level:2},{value:"1.2 Create custom connector",id:"12-create-custom-connector",level:2},{value:"1.3 Modify the definition",id:"13-modify-the-definition",level:2},{value:"1.4 Test connector",id:"14-test-connector",level:2}],s={toc:c};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("admonition",{title:"LAB SCENARIO",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Working as part of the PrioritZ fusion team you will be configuring a custom connector for an existing API.  The team would like to add badging to the PrioritZ application to give credit to users when they have completed ranking an item.  The team identified an existing API, but it doesn't have a Power Platform connector.  "),(0,a.kt)("p",{parentName:"admonition"},"When you review the API, you see that it has four operations and uses API key authentication."),(0,a.kt)("p",{parentName:"admonition"},"In ",(0,a.kt)("strong",{parentName:"p"},"Exercise 1")," you will download open API definition, create a solution for Contoso Badges custom connector. Currently, custom connectors must be in a separate solution from the apps and flows that use them, and then create the custom connector.")),(0,a.kt)("h2",{id:"11-download-open-api-definition-and-create-solution"},"1.1 Download open API definition and create solution"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Navigate to ",(0,a.kt)("a",{parentName:"p",href:"https://aka.ms/lowcode-february/workshop/contoso"},(0,a.kt)("strong",{parentName:"a"},"Contoso Coffee Badges")))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click on open the Open API definition file link.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Do a quick review of the Open API definition.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Right click on the page and select Save as.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Save the swagger.json file on your local computer."))),(0,a.kt)("h2",{id:"12-create-custom-connector"},"1.2 Create custom connector"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Navigate to ",(0,a.kt)("a",{parentName:"p",href:"https://aka.ms/lowcode-february/makerportal"},(0,a.kt)("strong",{parentName:"a"},"Power Apps maker portal"))," and make sure you are in your dev environment.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select Solutions and click + New solution.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Enter ",(0,a.kt)("strong",{parentName:"p"},"Contoso Badges connector")," for Display name, select ",(0,a.kt)("strong",{parentName:"p"},"Contoso Coffee")," for Publisher, and click Create.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Open the Contoso Badges connector solution you created.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click + New | Automation and select Custom connector.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Enter ",(0,a.kt)("strong",{parentName:"p"},"Badges connector")," for Connector name, ",(0,a.kt)("inlineCode",{parentName:"p"},"contosobadgestest.azurewebsites.net")," for Host, and click Create connector.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select Custom connectors from the sitemap.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click on the ",(0,a.kt)("strong",{parentName:"p"},"\u2026 More actions")," button of the custom connector you created and select ",(0,a.kt)("strong",{parentName:"p"},"Update from Open API file"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click Import.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select the swagger.json file you saved to your machine and click Open.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click Continue.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Enter Connector for badges for Description, contosobadgestest.azurewebsites.net for Host, and advance to Security.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Review the security configuration and advance to Definition.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Do not navigate away from this page."))),(0,a.kt)("h2",{id:"13-modify-the-definition"},"1.3 Modify the definition"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select the AddCredit action.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select Important for Visibility.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Scroll down to the ",(0,a.kt)("strong",{parentName:"p"},"Request")," section, click on the chevron button of the ",(0,a.kt)("strong",{parentName:"p"},"body")," and select ",(0,a.kt)("strong",{parentName:"p"},"Edit"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click on the chevron button of points and select Edit.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select Yes for Is required and click on the Back button.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click on the chevron button of recipientid and select Edit.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select Yes for Is required and click on the Back button.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click on the chevron button of name and select Edit.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select Yes for Is required and click on the Back button.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click on the Back button again."))),(0,a.kt)("ol",{start:11},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Advance to Code.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Review the code and advance to Test.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click Update connector and wait for the connector to be updated")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Do not navigate away from this page."))),(0,a.kt)("h2",{id:"14-test-connector"},"1.4 Test connector"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Open a new browser tab or window and navigate to ",(0,a.kt)("a",{parentName:"p",href:"https://aka.ms/lowcode-february/workshop/contoso"},(0,a.kt)("strong",{parentName:"a"},"Contoso Coffee Badges")))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click on open the API Key link")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Copy the API Key. Save this key you will use it multiple times.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Go back to the connector test page and click + New Connection.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Paste the API Key you copied and click Create connection.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click on the Refresh connections button.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"The connection you created should get selected.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Go to the AddCredit operation.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Enter your email address for recipientid, enter your name for name, enter 1 for points, and click Test operation."))),(0,a.kt)("ol",{start:10},(0,a.kt)("li",{parentName:"ol"},"The test should succeed, and the response should look like the image below.")))}m.isMDXComponent=!0}}]);