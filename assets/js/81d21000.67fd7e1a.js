"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4417],{4137:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>k});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),d=a,k=u["".concat(p,".").concat(d)]||u[d]||m[d]||i;return n?r.createElement(k,o(o({ref:t},c),{},{components:n})):r.createElement(k,o({ref:t},c))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8174:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var r=n(7462),a=(n(7294),n(4137));const i={sidebar_position:1,title:"2. Configure Service Principal"},o=void 0,l={unversionedId:"prodev-6/step-2",id:"prodev-6/step-2",title:"2. Configure Service Principal",description:"Working as part of the PrioritZ fusion team you will be configuring GitHub Actions using the Power Platform Build Tools to automate the team\u2019s deployments.",source:"@site/docs/prodev-6/step-2.md",sourceDirName:"prodev-6",slug:"/prodev-6/step-2",permalink:"/Low-Code/docs/prodev-6/step-2",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"2. Configure Service Principal"},sidebar:"tutorialSidebar",previous:{title:"1. App Lifecycle Management",permalink:"/Low-Code/docs/prodev-6/step-1"},next:{title:"3. Publish to Azure",permalink:"/Low-Code/docs/prodev-6/step-3"}},p={},s=[{value:"2.1 Create app registration",id:"21-create-app-registration",level:2},{value:"2.2 Create app user in Dataverse",id:"22-create-app-user-in-dataverse",level:2}],c={toc:s};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("admonition",{title:"LAB SCENARIO",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Working as part of the PrioritZ fusion team you will be configuring GitHub Actions using the Power Platform Build Tools to automate the team\u2019s deployments."),(0,a.kt)("p",{parentName:"admonition"},"In ",(0,a.kt)("strong",{parentName:"p"},"Exercise 2")," you will create service principal. The service principal will be used by the GitHub workflow actions, so they don\u2019t execute under your individual user identity.")),(0,a.kt)("h2",{id:"21-create-app-registration"},"2.1 Create app registration"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Navigate to ",(0,a.kt)("inlineCode",{parentName:"p"},"https://portal.azure.com/"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select Azure active directory.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select App registrations.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click + New registration.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Enter GitHub Deploy ",(0,a.kt)("inlineCode",{parentName:"p"},"<Your Name>")," e.g., GitHub Deploy Lab Admin 1 for Name, select Accounts in this organizational directory only for Supported account types, and click Register.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Copy the ",(0,a.kt)("inlineCode",{parentName:"p"},"Application (client) ID")," and the ",(0,a.kt)("inlineCode",{parentName:"p"},"Directory (tenant) ID"),". Keep the ids in a notepad, you will need them in future steps.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select Certificates and secrets.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click + New client secret.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Enter Lab admin GitHub client secret for Description, select 3 months for Expires, and click Add.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Copy the Value and save it on a notepad, you will need this value in future step. The value will not show again after you leave this page."))),(0,a.kt)("h2",{id:"22-create-app-user-in-dataverse"},"2.2 Create app user in Dataverse"),(0,a.kt)("p",null,"In this task, you will be registering the app you created in Azure Active Directory into the dev and test Dataverse environments.   You will also be assigning a security role that will allow the service principal to deploy solutions."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Navigate to Power Platform admin center ")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select Environments.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select your Dev environment and click Settings.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Expand Users + permissions and select Application users.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click + New app user.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click + Add an app.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select application registration you created and click Add.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select your Business unit and click Create. There should only be one unless you created more.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select the application user you just created and click Edit security roles.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select System administrator and click Save.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select Environments again.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Select your Test environment and click Settings.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Expand Users + permissions and select Application users."))),(0,a.kt)("ol",{start:14},(0,a.kt)("li",{parentName:"ol"},"Click + New app user."),(0,a.kt)("li",{parentName:"ol"},"Click + Add an app.")),(0,a.kt)("ol",{start:16},(0,a.kt)("li",{parentName:"ol"},"Select application registration you created and click Add."),(0,a.kt)("li",{parentName:"ol"},"Select your Business unit and click Create."),(0,a.kt)("li",{parentName:"ol"},"Select the application user you just created and click Edit security roles.")),(0,a.kt)("ol",{start:19},(0,a.kt)("li",{parentName:"ol"},"Select System administrator and click Save."),(0,a.kt)("li",{parentName:"ol"},"Select Environments and click to open the Dev environment."),(0,a.kt)("li",{parentName:"ol"},"Copy the Environment URL and keep it on a notepad, you will use this URL in future steps.")),(0,a.kt)("ol",{start:22},(0,a.kt)("li",{parentName:"ol"},"Select Environments and click to open the Test environment."),(0,a.kt)("li",{parentName:"ol"},"Copy the Environment URL and keep it on a notepad, you will this URL in future steps.")))}u.isMDXComponent=!0}}]);